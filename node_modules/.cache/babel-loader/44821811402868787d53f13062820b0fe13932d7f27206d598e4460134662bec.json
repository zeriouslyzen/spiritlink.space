{"ast":null,"code":"var _jsxFileName = \"/Users/deshonjackson/Desktop/spiritlink.space/src/components/ThesidiaAI.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect, useCallback } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport ModelSelector from './ModelSelector';\nimport StreamingText from './StreamingText';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ThesidiaAI = ({\n  brainwaveMode\n}) => {\n  _s();\n  const [messages, setMessages] = useState([]);\n  const [inputValue, setInputValue] = useState('');\n  const [isTyping, setIsTyping] = useState(false);\n  const [isRecording, setIsRecording] = useState(false);\n  const [attachments, setAttachments] = useState([]);\n  const [showCommands, setShowCommands] = useState(false);\n  const [commandFilter, setCommandFilter] = useState('');\n  const messagesEndRef = useRef(null);\n  const textareaRef = useRef(null);\n  const fileInputRef = useRef(null);\n  const dragCounter = useRef(0);\n\n  // Auto-resize textarea\n  const adjustTextareaHeight = useCallback(() => {\n    if (textareaRef.current) {\n      textareaRef.current.style.height = 'auto';\n      textareaRef.current.style.height = `${Math.min(textareaRef.current.scrollHeight, 200)}px`;\n    }\n  }, []);\n  useEffect(() => {\n    adjustTextareaHeight();\n  }, [inputValue, adjustTextareaHeight]);\n\n  // Scroll to bottom when new messages arrive\n  useEffect(() => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  }, [messages]);\n\n  // Command suggestions\n  const commands = [{\n    command: '/help',\n    description: 'Show available commands'\n  }, {\n    command: '/clear',\n    description: 'Clear conversation history'\n  }, {\n    command: '/export',\n    description: 'Export conversation'\n  }, {\n    command: '/settings',\n    description: 'Open settings'\n  }, {\n    command: '/voice',\n    description: 'Toggle voice input'\n  }];\n  const filteredCommands = commands.filter(cmd => cmd.command.toLowerCase().includes(commandFilter.toLowerCase()) || cmd.description.toLowerCase().includes(commandFilter.toLowerCase()));\n\n  // Handle command selection\n  const handleCommandSelect = command => {\n    var _textareaRef$current;\n    setInputValue(command + ' ');\n    setShowCommands(false);\n    setCommandFilter('');\n    (_textareaRef$current = textareaRef.current) === null || _textareaRef$current === void 0 ? void 0 : _textareaRef$current.focus();\n  };\n\n  // Handle input changes\n  const handleInputChange = e => {\n    const value = e.target.value;\n    setInputValue(value);\n\n    // Check for command triggers\n    if (value.startsWith('/')) {\n      setShowCommands(true);\n      setCommandFilter(value.slice(1));\n    } else {\n      setShowCommands(false);\n      setCommandFilter('');\n    }\n  };\n\n  // Handle key presses\n  const handleKeyPress = e => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSendMessage();\n    }\n  };\n\n  // File handling\n  const handleFileSelect = files => {\n    if (files) {\n      const newFiles = Array.from(files);\n      setAttachments(prev => [...prev, ...newFiles]);\n    }\n  };\n  const removeAttachment = index => {\n    setAttachments(prev => prev.filter((_, i) => i !== index));\n  };\n\n  // Drag and drop\n  const handleDragOver = e => {\n    e.preventDefault();\n    dragCounter.current++;\n  };\n  const handleDragLeave = e => {\n    e.preventDefault();\n    dragCounter.current--;\n  };\n  const handleDrop = e => {\n    e.preventDefault();\n    dragCounter.current = 0;\n    const files = e.dataTransfer.files;\n    handleFileSelect(files);\n  };\n\n  // Voice input\n  const startVoiceRecording = () => {\n    if ('webkitSpeechRecognition' in window) {\n      const recognition = new window.webkitSpeechRecognition();\n      recognition.continuous = false;\n      recognition.interimResults = false;\n      recognition.lang = 'en-US';\n      recognition.onstart = () => setIsRecording(true);\n      recognition.onresult = event => {\n        const transcript = event.results[0][0].transcript;\n        setInputValue(prev => prev + transcript);\n      };\n      recognition.onend = () => setIsRecording(false);\n      recognition.start();\n    }\n  };\n\n  // Send message\n  const handleSendMessage = async () => {\n    if (!inputValue.trim() && attachments.length === 0) return;\n    const newMessage = {\n      id: Date.now().toString(),\n      role: 'user',\n      content: inputValue,\n      timestamp: new Date(),\n      attachments: attachments.length > 0 ? [...attachments] : undefined\n    };\n    setMessages(prev => [...prev, newMessage]);\n    setInputValue('');\n    setAttachments([]);\n    setIsTyping(true);\n\n    // Simulate AI response (replace with actual API call)\n    setTimeout(() => {\n      const aiResponse = {\n        id: (Date.now() + 1).toString(),\n        role: 'assistant',\n        content: `I understand your message: \"${newMessage.content}\". This is a simulated response from the advanced AI system.`,\n        timestamp: new Date()\n      };\n      setMessages(prev => [...prev, aiResponse]);\n      setIsTyping(false);\n    }, 2000);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-full h-full bg-black text-white flex flex-col\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"glass-dark rounded-2xl p-4 mb-4 flex-shrink-0\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-3\",\n          children: [/*#__PURE__*/_jsxDEV(motion.div, {\n            className: \"w-10 h-10 rounded-full flex items-center justify-center relative\",\n            animate: {\n              boxShadow: brainwaveMode === 'delta' ? '0 0 20px rgba(139, 92, 246, 0.6), 0 0 40px rgba(139, 92, 246, 0.3)' : brainwaveMode === 'theta' ? '0 0 15px rgba(168, 85, 247, 0.7), 0 0 30px rgba(168, 85, 247, 0.4)' : brainwaveMode === 'alpha' ? '0 0 12px rgba(59, 130, 246, 0.6), 0 0 25px rgba(59, 130, 246, 0.3)' : brainwaveMode === 'beta' ? '0 0 10px rgba(34, 197, 94, 0.6), 0 0 20px rgba(34, 197, 94, 0.3)' : '0 0 15px rgba(236, 72, 153, 0.7), 0 0 35px rgba(236, 72, 153, 0.4)'\n            },\n            transition: {\n              duration: 2,\n              repeat: Infinity,\n              ease: \"easeInOut\"\n            },\n            children: /*#__PURE__*/_jsxDEV(motion.div, {\n              className: \"w-8 h-8 flex items-center justify-center\",\n              animate: {\n                scale: brainwaveMode === 'delta' ? [1, 1.1, 1] : brainwaveMode === 'theta' ? [1, 1.15, 1] : brainwaveMode === 'alpha' ? [1, 1.05, 1] : brainwaveMode === 'beta' ? [1, 1.2, 1] : [1, 1.25, 1]\n              },\n              transition: {\n                duration: brainwaveMode === 'delta' ? 3 : brainwaveMode === 'theta' ? 2.5 : brainwaveMode === 'alpha' ? 2 : brainwaveMode === 'beta' ? 1.5 : 1,\n                repeat: Infinity,\n                ease: \"easeInOut\"\n              },\n              children: /*#__PURE__*/_jsxDEV(motion.div, {\n                className: \"text-white font-bold text-lg\",\n                animate: {\n                  color: brainwaveMode === 'delta' ? '#8b5cf6' : brainwaveMode === 'theta' ? '#a855f7' : brainwaveMode === 'alpha' ? '#3b82f6' : brainwaveMode === 'beta' ? '#22c55e' : '#ec4899'\n                },\n                transition: {\n                  duration: 1\n                },\n                children: \"\\u27C1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 213,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-lg font-semibold\",\n              children: \"Thesidia AI\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-400\",\n              children: \"Consciousness Research Assistant\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ModelSelector, {\n          brainwaveMode: brainwaveMode\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 overflow-y-auto p-4 space-y-4\",\n      children: [/*#__PURE__*/_jsxDEV(AnimatePresence, {\n        children: messages.map(message => /*#__PURE__*/_jsxDEV(motion.div, {\n          initial: {\n            opacity: 0,\n            y: 20\n          },\n          animate: {\n            opacity: 1,\n            y: 0\n          },\n          exit: {\n            opacity: 0,\n            y: -20\n          },\n          transition: {\n            duration: 0.3\n          },\n          className: `flex ${message.role === 'user' ? 'justify-end' : 'justify-start'}`,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `max-w-[80%] ${message.role === 'user' ? 'order-2' : 'order-1'}`,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: `p-4 rounded-2xl ${message.role === 'user' ? 'glass-dark' : 'glass-dark'}`,\n              children: [message.attachments && message.attachments.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-3 space-y-2\",\n                children: message.attachments.map((file, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center space-x-2 p-2 bg-white/10 rounded-lg\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-xs\",\n                    children: [\"\\uD83D\\uDCCE \", file.name]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 263,\n                    columnNumber: 27\n                  }, this)\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 262,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 260,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"prose prose-invert max-w-none\",\n                children: message.role === 'assistant' ? /*#__PURE__*/_jsxDEV(StreamingText, {\n                  text: message.content,\n                  brainwaveMode: brainwaveMode\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 270,\n                  columnNumber: 23\n                }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"whitespace-pre-wrap\",\n                  children: message.content\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 272,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 268,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `text-xs text-gray-400 mt-1 ${message.role === 'user' ? 'text-right' : 'text-left'}`,\n              children: message.timestamp.toLocaleTimeString()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 15\n          }, this)\n        }, message.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: messagesEndRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-4 border-t border-white/10 flex-shrink-0 bg-black\",\n      children: [attachments.length > 0 && /*#__PURE__*/_jsxDEV(motion.div, {\n        initial: {\n          opacity: 0,\n          height: 0\n        },\n        animate: {\n          opacity: 1,\n          height: 'auto'\n        },\n        className: \"mb-3 p-3 glass-dark rounded-lg\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-wrap gap-2\",\n          children: attachments.map((file, index) => /*#__PURE__*/_jsxDEV(motion.div, {\n            initial: {\n              scale: 0\n            },\n            animate: {\n              scale: 1\n            },\n            className: \"flex items-center space-x-2 p-2 bg-white/10 rounded-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-xs\",\n              children: [\"\\uD83D\\uDCCE \", file.name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 304,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => removeAttachment(index),\n              className: \"text-red-400 hover:text-red-300 text-xs\",\n              children: \"\\xD7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 19\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(AnimatePresence, {\n        children: showCommands && /*#__PURE__*/_jsxDEV(motion.div, {\n          initial: {\n            opacity: 0,\n            y: 10\n          },\n          animate: {\n            opacity: 1,\n            y: 0\n          },\n          exit: {\n            opacity: 0,\n            y: 10\n          },\n          className: \"mb-3 p-3 glass-dark rounded-lg\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-1\",\n            children: filteredCommands.map(cmd => /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleCommandSelect(cmd.command),\n              className: \"w-full text-left p-2 hover:bg-white/10 rounded text-sm\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-mono text-purple-400\",\n                children: cmd.command\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 333,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-gray-400 ml-2\",\n                children: cmd.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 334,\n                columnNumber: 21\n              }, this)]\n            }, cmd.command, true, {\n              fileName: _jsxFileName,\n              lineNumber: 328,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `relative p-3 glass-dark rounded-2xl transition-all duration-300 ${dragCounter.current > 0 ? 'ring-2 ring-purple-500' : ''}`,\n        onDragOver: handleDragOver,\n        onDragLeave: handleDragLeave,\n        onDrop: handleDrop,\n        children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n          ref: textareaRef,\n          value: inputValue,\n          onChange: handleInputChange,\n          onKeyPress: handleKeyPress,\n          placeholder: \"Type your message... (Use / for commands, drag files here)\",\n          className: \"w-full bg-transparent border-none outline-none resize-none text-white placeholder-gray-400 min-h-[20px] max-h-[200px]\",\n          rows: 1\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between mt-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(motion.button, {\n              whileHover: {\n                scale: 1.05\n              },\n              whileTap: {\n                scale: 0.95\n              },\n              onClick: () => {\n                var _fileInputRef$current;\n                return (_fileInputRef$current = fileInputRef.current) === null || _fileInputRef$current === void 0 ? void 0 : _fileInputRef$current.click();\n              },\n              className: \"p-2 text-gray-400 hover:text-white transition-colors\",\n              title: \"Attach file\",\n              children: \"\\uD83D\\uDCCE\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 366,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(motion.button, {\n              whileHover: {\n                scale: 1.05\n              },\n              whileTap: {\n                scale: 0.95\n              },\n              onClick: startVoiceRecording,\n              className: `p-2 transition-colors ${isRecording ? 'text-red-400 animate-pulse' : 'text-gray-400 hover:text-white'}`,\n              title: \"Voice input\",\n              children: isRecording ? '🎤' : '🎙️'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 377,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              ref: fileInputRef,\n              type: \"file\",\n              multiple: true,\n              onChange: e => handleFileSelect(e.target.files),\n              className: \"hidden\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 389,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 364,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(motion.button, {\n            whileHover: {\n              scale: 1.05\n            },\n            whileTap: {\n              scale: 0.95\n            },\n            onClick: handleSendMessage,\n            disabled: !inputValue.trim() && attachments.length === 0,\n            className: `px-4 py-2 rounded-lg font-medium transition-all duration-200 ${inputValue.trim() || attachments.length > 0 ? 'bg-gradient-to-r from-purple-500 to-blue-500 text-white hover:from-purple-600 hover:to-blue-600' : 'bg-gray-600 text-gray-400 cursor-not-allowed'}`,\n            children: \"Send\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 399,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 174,\n    columnNumber: 5\n  }, this);\n};\n_s(ThesidiaAI, \"I/+cRMKdLfreDJbTtlvpAhf5ZQ0=\");\n_c = ThesidiaAI;\nexport default ThesidiaAI;\nvar _c;\n$RefreshReg$(_c, \"ThesidiaAI\");","map":{"version":3,"names":["React","useState","useRef","useEffect","useCallback","motion","AnimatePresence","ModelSelector","StreamingText","jsxDEV","_jsxDEV","ThesidiaAI","brainwaveMode","_s","messages","setMessages","inputValue","setInputValue","isTyping","setIsTyping","isRecording","setIsRecording","attachments","setAttachments","showCommands","setShowCommands","commandFilter","setCommandFilter","messagesEndRef","textareaRef","fileInputRef","dragCounter","adjustTextareaHeight","current","style","height","Math","min","scrollHeight","_messagesEndRef$curre","scrollIntoView","behavior","commands","command","description","filteredCommands","filter","cmd","toLowerCase","includes","handleCommandSelect","_textareaRef$current","focus","handleInputChange","e","value","target","startsWith","slice","handleKeyPress","key","shiftKey","preventDefault","handleSendMessage","handleFileSelect","files","newFiles","Array","from","prev","removeAttachment","index","_","i","handleDragOver","handleDragLeave","handleDrop","dataTransfer","startVoiceRecording","window","recognition","webkitSpeechRecognition","continuous","interimResults","lang","onstart","onresult","event","transcript","results","onend","start","trim","length","newMessage","id","Date","now","toString","role","content","timestamp","undefined","setTimeout","aiResponse","className","children","div","animate","boxShadow","transition","duration","repeat","Infinity","ease","scale","color","fileName","_jsxFileName","lineNumber","columnNumber","map","message","initial","opacity","y","exit","file","name","text","toLocaleTimeString","ref","onClick","onDragOver","onDragLeave","onDrop","onChange","onKeyPress","placeholder","rows","button","whileHover","whileTap","_fileInputRef$current","click","title","type","multiple","disabled","_c","$RefreshReg$"],"sources":["/Users/deshonjackson/Desktop/spiritlink.space/src/components/ThesidiaAI.tsx"],"sourcesContent":["import React, { useState, useRef, useEffect, useCallback } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport ModelSelector from './ModelSelector';\nimport StreamingText from './StreamingText';\n\ninterface Message {\n  id: string;\n  role: 'user' | 'assistant';\n  content: string;\n  timestamp: Date;\n  attachments?: File[];\n}\n\ninterface ThesidiaAIProps {\n  brainwaveMode: string;\n}\n\nconst ThesidiaAI: React.FC<ThesidiaAIProps> = ({ brainwaveMode }) => {\n  const [messages, setMessages] = useState<Message[]>([]);\n  const [inputValue, setInputValue] = useState('');\n  const [isTyping, setIsTyping] = useState(false);\n  const [isRecording, setIsRecording] = useState(false);\n  const [attachments, setAttachments] = useState<File[]>([]);\n  const [showCommands, setShowCommands] = useState(false);\n  const [commandFilter, setCommandFilter] = useState('');\n  \n  const messagesEndRef = useRef<HTMLDivElement>(null);\n  const textareaRef = useRef<HTMLTextAreaElement>(null);\n  const fileInputRef = useRef<HTMLInputElement>(null);\n  const dragCounter = useRef(0);\n\n  // Auto-resize textarea\n  const adjustTextareaHeight = useCallback(() => {\n    if (textareaRef.current) {\n      textareaRef.current.style.height = 'auto';\n      textareaRef.current.style.height = `${Math.min(textareaRef.current.scrollHeight, 200)}px`;\n    }\n  }, []);\n\n  useEffect(() => {\n    adjustTextareaHeight();\n  }, [inputValue, adjustTextareaHeight]);\n\n  // Scroll to bottom when new messages arrive\n  useEffect(() => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  }, [messages]);\n\n  // Command suggestions\n  const commands = [\n    { command: '/help', description: 'Show available commands' },\n    { command: '/clear', description: 'Clear conversation history' },\n    { command: '/export', description: 'Export conversation' },\n    { command: '/settings', description: 'Open settings' },\n    { command: '/voice', description: 'Toggle voice input' },\n  ];\n\n  const filteredCommands = commands.filter(cmd =>\n    cmd.command.toLowerCase().includes(commandFilter.toLowerCase()) ||\n    cmd.description.toLowerCase().includes(commandFilter.toLowerCase())\n  );\n\n  // Handle command selection\n  const handleCommandSelect = (command: string) => {\n    setInputValue(command + ' ');\n    setShowCommands(false);\n    setCommandFilter('');\n    textareaRef.current?.focus();\n  };\n\n  // Handle input changes\n  const handleInputChange = (e: React.ChangeEvent<HTMLTextAreaElement>) => {\n    const value = e.target.value;\n    setInputValue(value);\n    \n    // Check for command triggers\n    if (value.startsWith('/')) {\n      setShowCommands(true);\n      setCommandFilter(value.slice(1));\n    } else {\n      setShowCommands(false);\n      setCommandFilter('');\n    }\n  };\n\n  // Handle key presses\n  const handleKeyPress = (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSendMessage();\n    }\n  };\n\n  // File handling\n  const handleFileSelect = (files: FileList | null) => {\n    if (files) {\n      const newFiles = Array.from(files);\n      setAttachments(prev => [...prev, ...newFiles]);\n    }\n  };\n\n  const removeAttachment = (index: number) => {\n    setAttachments(prev => prev.filter((_, i) => i !== index));\n  };\n\n  // Drag and drop\n  const handleDragOver = (e: React.DragEvent) => {\n    e.preventDefault();\n    dragCounter.current++;\n  };\n\n  const handleDragLeave = (e: React.DragEvent) => {\n    e.preventDefault();\n    dragCounter.current--;\n  };\n\n  const handleDrop = (e: React.DragEvent) => {\n    e.preventDefault();\n    dragCounter.current = 0;\n    const files = e.dataTransfer.files;\n    handleFileSelect(files);\n  };\n\n  // Voice input\n  const startVoiceRecording = () => {\n    if ('webkitSpeechRecognition' in window) {\n      const recognition = new (window as any).webkitSpeechRecognition();\n      recognition.continuous = false;\n      recognition.interimResults = false;\n      recognition.lang = 'en-US';\n      \n      recognition.onstart = () => setIsRecording(true);\n      recognition.onresult = (event: any) => {\n        const transcript = event.results[0][0].transcript;\n        setInputValue(prev => prev + transcript);\n      };\n      recognition.onend = () => setIsRecording(false);\n      \n      recognition.start();\n    }\n  };\n\n  // Send message\n  const handleSendMessage = async () => {\n    if (!inputValue.trim() && attachments.length === 0) return;\n\n    const newMessage: Message = {\n      id: Date.now().toString(),\n      role: 'user',\n      content: inputValue,\n      timestamp: new Date(),\n      attachments: attachments.length > 0 ? [...attachments] : undefined,\n    };\n\n    setMessages(prev => [...prev, newMessage]);\n    setInputValue('');\n    setAttachments([]);\n    setIsTyping(true);\n\n    // Simulate AI response (replace with actual API call)\n    setTimeout(() => {\n      const aiResponse: Message = {\n        id: (Date.now() + 1).toString(),\n        role: 'assistant',\n        content: `I understand your message: \"${newMessage.content}\". This is a simulated response from the advanced AI system.`,\n        timestamp: new Date(),\n      };\n      setMessages(prev => [...prev, aiResponse]);\n      setIsTyping(false);\n    }, 2000);\n  };\n\n  return (\n    <div className=\"w-full h-full bg-black text-white flex flex-col\">\n      {/* Header */}\n      <div className=\"glass-dark rounded-2xl p-4 mb-4 flex-shrink-0\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center space-x-3\">\n            <motion.div \n              className=\"w-10 h-10 rounded-full flex items-center justify-center relative\"\n              animate={{\n                boxShadow: brainwaveMode === 'delta' \n                  ? '0 0 20px rgba(139, 92, 246, 0.6), 0 0 40px rgba(139, 92, 246, 0.3)'\n                  : brainwaveMode === 'theta'\n                  ? '0 0 15px rgba(168, 85, 247, 0.7), 0 0 30px rgba(168, 85, 247, 0.4)'\n                  : brainwaveMode === 'alpha'\n                  ? '0 0 12px rgba(59, 130, 246, 0.6), 0 0 25px rgba(59, 130, 246, 0.3)'\n                  : brainwaveMode === 'beta'\n                  ? '0 0 10px rgba(34, 197, 94, 0.6), 0 0 20px rgba(34, 197, 94, 0.3)'\n                  : '0 0 15px rgba(236, 72, 153, 0.7), 0 0 35px rgba(236, 72, 153, 0.4)'\n              }}\n              transition={{ duration: 2, repeat: Infinity, ease: \"easeInOut\" }}\n            >\n              <motion.div\n                className=\"w-8 h-8 flex items-center justify-center\"\n                animate={{\n                  scale: brainwaveMode === 'delta' \n                    ? [1, 1.1, 1]\n                    : brainwaveMode === 'theta'\n                    ? [1, 1.15, 1]\n                    : brainwaveMode === 'alpha'\n                    ? [1, 1.05, 1]\n                    : brainwaveMode === 'beta'\n                    ? [1, 1.2, 1]\n                    : [1, 1.25, 1]\n                }}\n                transition={{ \n                  duration: brainwaveMode === 'delta' ? 3 : brainwaveMode === 'theta' ? 2.5 : brainwaveMode === 'alpha' ? 2 : brainwaveMode === 'beta' ? 1.5 : 1,\n                  repeat: Infinity,\n                  ease: \"easeInOut\"\n                }}\n              >\n                <motion.div\n                  className=\"text-white font-bold text-lg\"\n                  animate={{\n                    color: brainwaveMode === 'delta' \n                      ? '#8b5cf6'\n                      : brainwaveMode === 'theta'\n                      ? '#a855f7'\n                      : brainwaveMode === 'alpha'\n                      ? '#3b82f6'\n                      : brainwaveMode === 'beta'\n                      ? '#22c55e'\n                      : '#ec4899'\n                  }}\n                  transition={{ duration: 1 }}\n                >\n                  ⟁\n                </motion.div>\n              </motion.div>\n            </motion.div>\n            <div>\n              <h2 className=\"text-lg font-semibold\">Thesidia AI</h2>\n              <p className=\"text-xs text-gray-400\">Consciousness Research Assistant</p>\n            </div>\n          </div>\n          <ModelSelector brainwaveMode={brainwaveMode} />\n        </div>\n      </div>\n\n      {/* Messages Area */}\n      <div className=\"flex-1 overflow-y-auto p-4 space-y-4\">\n        <AnimatePresence>\n          {messages.map((message) => (\n            <motion.div\n              key={message.id}\n              initial={{ opacity: 0, y: 20 }}\n              animate={{ opacity: 1, y: 0 }}\n              exit={{ opacity: 0, y: -20 }}\n              transition={{ duration: 0.3 }}\n              className={`flex ${message.role === 'user' ? 'justify-end' : 'justify-start'}`}\n            >\n              <div className={`max-w-[80%] ${message.role === 'user' ? 'order-2' : 'order-1'}`}>\n                <div className={`p-4 rounded-2xl ${\n                  message.role === 'user' \n                    ? 'glass-dark' \n                    : 'glass-dark'\n                }`}>\n                  {message.attachments && message.attachments.length > 0 && (\n                    <div className=\"mb-3 space-y-2\">\n                      {message.attachments.map((file, index) => (\n                        <div key={index} className=\"flex items-center space-x-2 p-2 bg-white/10 rounded-lg\">\n                          <span className=\"text-xs\">📎 {file.name}</span>\n                        </div>\n                      ))}\n                    </div>\n                  )}\n                  <div className=\"prose prose-invert max-w-none\">\n                    {message.role === 'assistant' ? (\n                      <StreamingText text={message.content} brainwaveMode={brainwaveMode} />\n                    ) : (\n                      <p className=\"whitespace-pre-wrap\">{message.content}</p>\n                    )}\n                  </div>\n                </div>\n                <div className={`text-xs text-gray-400 mt-1 ${message.role === 'user' ? 'text-right' : 'text-left'}`}>\n                  {message.timestamp.toLocaleTimeString()}\n                </div>\n              </div>\n            </motion.div>\n          ))}\n        </AnimatePresence>\n\n        <div ref={messagesEndRef} />\n      </div>\n\n      {/* Advanced Input Bar */}\n      <div className=\"p-4 border-t border-white/10 flex-shrink-0 bg-black\">\n        {/* Attachments Preview */}\n        {attachments.length > 0 && (\n          <motion.div\n            initial={{ opacity: 0, height: 0 }}\n            animate={{ opacity: 1, height: 'auto' }}\n            className=\"mb-3 p-3 glass-dark rounded-lg\"\n          >\n            <div className=\"flex flex-wrap gap-2\">\n              {attachments.map((file, index) => (\n                <motion.div\n                  key={index}\n                  initial={{ scale: 0 }}\n                  animate={{ scale: 1 }}\n                  className=\"flex items-center space-x-2 p-2 bg-white/10 rounded-lg\"\n                >\n                  <span className=\"text-xs\">📎 {file.name}</span>\n                  <button\n                    onClick={() => removeAttachment(index)}\n                    className=\"text-red-400 hover:text-red-300 text-xs\"\n                  >\n                    ×\n                  </button>\n                </motion.div>\n              ))}\n            </div>\n          </motion.div>\n        )}\n\n        {/* Command Suggestions */}\n        <AnimatePresence>\n          {showCommands && (\n            <motion.div\n              initial={{ opacity: 0, y: 10 }}\n              animate={{ opacity: 1, y: 0 }}\n              exit={{ opacity: 0, y: 10 }}\n              className=\"mb-3 p-3 glass-dark rounded-lg\"\n            >\n              <div className=\"space-y-1\">\n                {filteredCommands.map((cmd) => (\n                  <button\n                    key={cmd.command}\n                    onClick={() => handleCommandSelect(cmd.command)}\n                    className=\"w-full text-left p-2 hover:bg-white/10 rounded text-sm\"\n                  >\n                    <span className=\"font-mono text-purple-400\">{cmd.command}</span>\n                    <span className=\"text-gray-400 ml-2\">{cmd.description}</span>\n                  </button>\n                ))}\n              </div>\n            </motion.div>\n          )}\n        </AnimatePresence>\n\n        {/* Input Container */}\n        <div\n          className={`relative p-3 glass-dark rounded-2xl transition-all duration-300 ${\n            dragCounter.current > 0 ? 'ring-2 ring-purple-500' : ''\n          }`}\n          onDragOver={handleDragOver}\n          onDragLeave={handleDragLeave}\n          onDrop={handleDrop}\n        >\n          {/* Textarea */}\n          <textarea\n            ref={textareaRef}\n            value={inputValue}\n            onChange={handleInputChange}\n            onKeyPress={handleKeyPress}\n            placeholder=\"Type your message... (Use / for commands, drag files here)\"\n            className=\"w-full bg-transparent border-none outline-none resize-none text-white placeholder-gray-400 min-h-[20px] max-h-[200px]\"\n            rows={1}\n          />\n\n          {/* Action Buttons */}\n          <div className=\"flex items-center justify-between mt-3\">\n            <div className=\"flex items-center space-x-2\">\n              {/* File Upload */}\n              <motion.button\n                whileHover={{ scale: 1.05 }}\n                whileTap={{ scale: 0.95 }}\n                onClick={() => fileInputRef.current?.click()}\n                className=\"p-2 text-gray-400 hover:text-white transition-colors\"\n                title=\"Attach file\"\n              >\n                📎\n              </motion.button>\n\n              {/* Voice Input */}\n              <motion.button\n                whileHover={{ scale: 1.05 }}\n                whileTap={{ scale: 0.95 }}\n                onClick={startVoiceRecording}\n                className={`p-2 transition-colors ${\n                  isRecording ? 'text-red-400 animate-pulse' : 'text-gray-400 hover:text-white'\n                }`}\n                title=\"Voice input\"\n              >\n                {isRecording ? '🎤' : '🎙️'}\n              </motion.button>\n\n              <input\n                ref={fileInputRef}\n                type=\"file\"\n                multiple\n                onChange={(e) => handleFileSelect(e.target.files)}\n                className=\"hidden\"\n              />\n            </div>\n\n            {/* Send Button */}\n            <motion.button\n              whileHover={{ scale: 1.05 }}\n              whileTap={{ scale: 0.95 }}\n              onClick={handleSendMessage}\n              disabled={!inputValue.trim() && attachments.length === 0}\n              className={`px-4 py-2 rounded-lg font-medium transition-all duration-200 ${\n                inputValue.trim() || attachments.length > 0\n                  ? 'bg-gradient-to-r from-purple-500 to-blue-500 text-white hover:from-purple-600 hover:to-blue-600'\n                  : 'bg-gray-600 text-gray-400 cursor-not-allowed'\n              }`}\n            >\n              Send\n            </motion.button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ThesidiaAI; "],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,MAAM,EAAEC,SAAS,EAAEC,WAAW,QAAQ,OAAO;AACvE,SAASC,MAAM,EAAEC,eAAe,QAAQ,eAAe;AACvD,OAAOC,aAAa,MAAM,iBAAiB;AAC3C,OAAOC,aAAa,MAAM,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAc5C,MAAMC,UAAqC,GAAGA,CAAC;EAAEC;AAAc,CAAC,KAAK;EAAAC,EAAA;EACnE,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGd,QAAQ,CAAY,EAAE,CAAC;EACvD,MAAM,CAACe,UAAU,EAAEC,aAAa,CAAC,GAAGhB,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACiB,QAAQ,EAAEC,WAAW,CAAC,GAAGlB,QAAQ,CAAC,KAAK,CAAC;EAC/C,MAAM,CAACmB,WAAW,EAAEC,cAAc,CAAC,GAAGpB,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAM,CAACqB,WAAW,EAAEC,cAAc,CAAC,GAAGtB,QAAQ,CAAS,EAAE,CAAC;EAC1D,MAAM,CAACuB,YAAY,EAAEC,eAAe,CAAC,GAAGxB,QAAQ,CAAC,KAAK,CAAC;EACvD,MAAM,CAACyB,aAAa,EAAEC,gBAAgB,CAAC,GAAG1B,QAAQ,CAAC,EAAE,CAAC;EAEtD,MAAM2B,cAAc,GAAG1B,MAAM,CAAiB,IAAI,CAAC;EACnD,MAAM2B,WAAW,GAAG3B,MAAM,CAAsB,IAAI,CAAC;EACrD,MAAM4B,YAAY,GAAG5B,MAAM,CAAmB,IAAI,CAAC;EACnD,MAAM6B,WAAW,GAAG7B,MAAM,CAAC,CAAC,CAAC;;EAE7B;EACA,MAAM8B,oBAAoB,GAAG5B,WAAW,CAAC,MAAM;IAC7C,IAAIyB,WAAW,CAACI,OAAO,EAAE;MACvBJ,WAAW,CAACI,OAAO,CAACC,KAAK,CAACC,MAAM,GAAG,MAAM;MACzCN,WAAW,CAACI,OAAO,CAACC,KAAK,CAACC,MAAM,GAAG,GAAGC,IAAI,CAACC,GAAG,CAACR,WAAW,CAACI,OAAO,CAACK,YAAY,EAAE,GAAG,CAAC,IAAI;IAC3F;EACF,CAAC,EAAE,EAAE,CAAC;EAENnC,SAAS,CAAC,MAAM;IACd6B,oBAAoB,CAAC,CAAC;EACxB,CAAC,EAAE,CAAChB,UAAU,EAAEgB,oBAAoB,CAAC,CAAC;;EAEtC;EACA7B,SAAS,CAAC,MAAM;IAAA,IAAAoC,qBAAA;IACd,CAAAA,qBAAA,GAAAX,cAAc,CAACK,OAAO,cAAAM,qBAAA,uBAAtBA,qBAAA,CAAwBC,cAAc,CAAC;MAAEC,QAAQ,EAAE;IAAS,CAAC,CAAC;EAChE,CAAC,EAAE,CAAC3B,QAAQ,CAAC,CAAC;;EAEd;EACA,MAAM4B,QAAQ,GAAG,CACf;IAAEC,OAAO,EAAE,OAAO;IAAEC,WAAW,EAAE;EAA0B,CAAC,EAC5D;IAAED,OAAO,EAAE,QAAQ;IAAEC,WAAW,EAAE;EAA6B,CAAC,EAChE;IAAED,OAAO,EAAE,SAAS;IAAEC,WAAW,EAAE;EAAsB,CAAC,EAC1D;IAAED,OAAO,EAAE,WAAW;IAAEC,WAAW,EAAE;EAAgB,CAAC,EACtD;IAAED,OAAO,EAAE,QAAQ;IAAEC,WAAW,EAAE;EAAqB,CAAC,CACzD;EAED,MAAMC,gBAAgB,GAAGH,QAAQ,CAACI,MAAM,CAACC,GAAG,IAC1CA,GAAG,CAACJ,OAAO,CAACK,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACvB,aAAa,CAACsB,WAAW,CAAC,CAAC,CAAC,IAC/DD,GAAG,CAACH,WAAW,CAACI,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACvB,aAAa,CAACsB,WAAW,CAAC,CAAC,CACpE,CAAC;;EAED;EACA,MAAME,mBAAmB,GAAIP,OAAe,IAAK;IAAA,IAAAQ,oBAAA;IAC/ClC,aAAa,CAAC0B,OAAO,GAAG,GAAG,CAAC;IAC5BlB,eAAe,CAAC,KAAK,CAAC;IACtBE,gBAAgB,CAAC,EAAE,CAAC;IACpB,CAAAwB,oBAAA,GAAAtB,WAAW,CAACI,OAAO,cAAAkB,oBAAA,uBAAnBA,oBAAA,CAAqBC,KAAK,CAAC,CAAC;EAC9B,CAAC;;EAED;EACA,MAAMC,iBAAiB,GAAIC,CAAyC,IAAK;IACvE,MAAMC,KAAK,GAAGD,CAAC,CAACE,MAAM,CAACD,KAAK;IAC5BtC,aAAa,CAACsC,KAAK,CAAC;;IAEpB;IACA,IAAIA,KAAK,CAACE,UAAU,CAAC,GAAG,CAAC,EAAE;MACzBhC,eAAe,CAAC,IAAI,CAAC;MACrBE,gBAAgB,CAAC4B,KAAK,CAACG,KAAK,CAAC,CAAC,CAAC,CAAC;IAClC,CAAC,MAAM;MACLjC,eAAe,CAAC,KAAK,CAAC;MACtBE,gBAAgB,CAAC,EAAE,CAAC;IACtB;EACF,CAAC;;EAED;EACA,MAAMgC,cAAc,GAAIL,CAAsB,IAAK;IACjD,IAAIA,CAAC,CAACM,GAAG,KAAK,OAAO,IAAI,CAACN,CAAC,CAACO,QAAQ,EAAE;MACpCP,CAAC,CAACQ,cAAc,CAAC,CAAC;MAClBC,iBAAiB,CAAC,CAAC;IACrB;EACF,CAAC;;EAED;EACA,MAAMC,gBAAgB,GAAIC,KAAsB,IAAK;IACnD,IAAIA,KAAK,EAAE;MACT,MAAMC,QAAQ,GAAGC,KAAK,CAACC,IAAI,CAACH,KAAK,CAAC;MAClC1C,cAAc,CAAC8C,IAAI,IAAI,CAAC,GAAGA,IAAI,EAAE,GAAGH,QAAQ,CAAC,CAAC;IAChD;EACF,CAAC;EAED,MAAMI,gBAAgB,GAAIC,KAAa,IAAK;IAC1ChD,cAAc,CAAC8C,IAAI,IAAIA,IAAI,CAACvB,MAAM,CAAC,CAAC0B,CAAC,EAAEC,CAAC,KAAKA,CAAC,KAAKF,KAAK,CAAC,CAAC;EAC5D,CAAC;;EAED;EACA,MAAMG,cAAc,GAAIpB,CAAkB,IAAK;IAC7CA,CAAC,CAACQ,cAAc,CAAC,CAAC;IAClB/B,WAAW,CAACE,OAAO,EAAE;EACvB,CAAC;EAED,MAAM0C,eAAe,GAAIrB,CAAkB,IAAK;IAC9CA,CAAC,CAACQ,cAAc,CAAC,CAAC;IAClB/B,WAAW,CAACE,OAAO,EAAE;EACvB,CAAC;EAED,MAAM2C,UAAU,GAAItB,CAAkB,IAAK;IACzCA,CAAC,CAACQ,cAAc,CAAC,CAAC;IAClB/B,WAAW,CAACE,OAAO,GAAG,CAAC;IACvB,MAAMgC,KAAK,GAAGX,CAAC,CAACuB,YAAY,CAACZ,KAAK;IAClCD,gBAAgB,CAACC,KAAK,CAAC;EACzB,CAAC;;EAED;EACA,MAAMa,mBAAmB,GAAGA,CAAA,KAAM;IAChC,IAAI,yBAAyB,IAAIC,MAAM,EAAE;MACvC,MAAMC,WAAW,GAAG,IAAKD,MAAM,CAASE,uBAAuB,CAAC,CAAC;MACjED,WAAW,CAACE,UAAU,GAAG,KAAK;MAC9BF,WAAW,CAACG,cAAc,GAAG,KAAK;MAClCH,WAAW,CAACI,IAAI,GAAG,OAAO;MAE1BJ,WAAW,CAACK,OAAO,GAAG,MAAMhE,cAAc,CAAC,IAAI,CAAC;MAChD2D,WAAW,CAACM,QAAQ,GAAIC,KAAU,IAAK;QACrC,MAAMC,UAAU,GAAGD,KAAK,CAACE,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAACD,UAAU;QACjDvE,aAAa,CAACoD,IAAI,IAAIA,IAAI,GAAGmB,UAAU,CAAC;MAC1C,CAAC;MACDR,WAAW,CAACU,KAAK,GAAG,MAAMrE,cAAc,CAAC,KAAK,CAAC;MAE/C2D,WAAW,CAACW,KAAK,CAAC,CAAC;IACrB;EACF,CAAC;;EAED;EACA,MAAM5B,iBAAiB,GAAG,MAAAA,CAAA,KAAY;IACpC,IAAI,CAAC/C,UAAU,CAAC4E,IAAI,CAAC,CAAC,IAAItE,WAAW,CAACuE,MAAM,KAAK,CAAC,EAAE;IAEpD,MAAMC,UAAmB,GAAG;MAC1BC,EAAE,EAAEC,IAAI,CAACC,GAAG,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC;MACzBC,IAAI,EAAE,MAAM;MACZC,OAAO,EAAEpF,UAAU;MACnBqF,SAAS,EAAE,IAAIL,IAAI,CAAC,CAAC;MACrB1E,WAAW,EAAEA,WAAW,CAACuE,MAAM,GAAG,CAAC,GAAG,CAAC,GAAGvE,WAAW,CAAC,GAAGgF;IAC3D,CAAC;IAEDvF,WAAW,CAACsD,IAAI,IAAI,CAAC,GAAGA,IAAI,EAAEyB,UAAU,CAAC,CAAC;IAC1C7E,aAAa,CAAC,EAAE,CAAC;IACjBM,cAAc,CAAC,EAAE,CAAC;IAClBJ,WAAW,CAAC,IAAI,CAAC;;IAEjB;IACAoF,UAAU,CAAC,MAAM;MACf,MAAMC,UAAmB,GAAG;QAC1BT,EAAE,EAAE,CAACC,IAAI,CAACC,GAAG,CAAC,CAAC,GAAG,CAAC,EAAEC,QAAQ,CAAC,CAAC;QAC/BC,IAAI,EAAE,WAAW;QACjBC,OAAO,EAAE,+BAA+BN,UAAU,CAACM,OAAO,8DAA8D;QACxHC,SAAS,EAAE,IAAIL,IAAI,CAAC;MACtB,CAAC;MACDjF,WAAW,CAACsD,IAAI,IAAI,CAAC,GAAGA,IAAI,EAAEmC,UAAU,CAAC,CAAC;MAC1CrF,WAAW,CAAC,KAAK,CAAC;IACpB,CAAC,EAAE,IAAI,CAAC;EACV,CAAC;EAED,oBACET,OAAA;IAAK+F,SAAS,EAAC,iDAAiD;IAAAC,QAAA,gBAE9DhG,OAAA;MAAK+F,SAAS,EAAC,+CAA+C;MAAAC,QAAA,eAC5DhG,OAAA;QAAK+F,SAAS,EAAC,mCAAmC;QAAAC,QAAA,gBAChDhG,OAAA;UAAK+F,SAAS,EAAC,6BAA6B;UAAAC,QAAA,gBAC1ChG,OAAA,CAACL,MAAM,CAACsG,GAAG;YACTF,SAAS,EAAC,kEAAkE;YAC5EG,OAAO,EAAE;cACPC,SAAS,EAAEjG,aAAa,KAAK,OAAO,GAChC,oEAAoE,GACpEA,aAAa,KAAK,OAAO,GACzB,oEAAoE,GACpEA,aAAa,KAAK,OAAO,GACzB,oEAAoE,GACpEA,aAAa,KAAK,MAAM,GACxB,kEAAkE,GAClE;YACN,CAAE;YACFkG,UAAU,EAAE;cAAEC,QAAQ,EAAE,CAAC;cAAEC,MAAM,EAAEC,QAAQ;cAAEC,IAAI,EAAE;YAAY,CAAE;YAAAR,QAAA,eAEjEhG,OAAA,CAACL,MAAM,CAACsG,GAAG;cACTF,SAAS,EAAC,0CAA0C;cACpDG,OAAO,EAAE;gBACPO,KAAK,EAAEvG,aAAa,KAAK,OAAO,GAC5B,CAAC,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC,GACXA,aAAa,KAAK,OAAO,GACzB,CAAC,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC,GACZA,aAAa,KAAK,OAAO,GACzB,CAAC,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC,GACZA,aAAa,KAAK,MAAM,GACxB,CAAC,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC,GACX,CAAC,CAAC,EAAE,IAAI,EAAE,CAAC;cACjB,CAAE;cACFkG,UAAU,EAAE;gBACVC,QAAQ,EAAEnG,aAAa,KAAK,OAAO,GAAG,CAAC,GAAGA,aAAa,KAAK,OAAO,GAAG,GAAG,GAAGA,aAAa,KAAK,OAAO,GAAG,CAAC,GAAGA,aAAa,KAAK,MAAM,GAAG,GAAG,GAAG,CAAC;gBAC9IoG,MAAM,EAAEC,QAAQ;gBAChBC,IAAI,EAAE;cACR,CAAE;cAAAR,QAAA,eAEFhG,OAAA,CAACL,MAAM,CAACsG,GAAG;gBACTF,SAAS,EAAC,8BAA8B;gBACxCG,OAAO,EAAE;kBACPQ,KAAK,EAAExG,aAAa,KAAK,OAAO,GAC5B,SAAS,GACTA,aAAa,KAAK,OAAO,GACzB,SAAS,GACTA,aAAa,KAAK,OAAO,GACzB,SAAS,GACTA,aAAa,KAAK,MAAM,GACxB,SAAS,GACT;gBACN,CAAE;gBACFkG,UAAU,EAAE;kBAAEC,QAAQ,EAAE;gBAAE,CAAE;gBAAAL,QAAA,EAC7B;cAED;gBAAAW,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAY;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eACb9G,OAAA;YAAAgG,QAAA,gBACEhG,OAAA;cAAI+F,SAAS,EAAC,uBAAuB;cAAAC,QAAA,EAAC;YAAW;cAAAW,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACtD9G,OAAA;cAAG+F,SAAS,EAAC,uBAAuB;cAAAC,QAAA,EAAC;YAAgC;cAAAW,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAG,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACtE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eACN9G,OAAA,CAACH,aAAa;UAACK,aAAa,EAAEA;QAAc;UAAAyG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC5C;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAGN9G,OAAA;MAAK+F,SAAS,EAAC,sCAAsC;MAAAC,QAAA,gBACnDhG,OAAA,CAACJ,eAAe;QAAAoG,QAAA,EACb5F,QAAQ,CAAC2G,GAAG,CAAEC,OAAO,iBACpBhH,OAAA,CAACL,MAAM,CAACsG,GAAG;UAETgB,OAAO,EAAE;YAAEC,OAAO,EAAE,CAAC;YAAEC,CAAC,EAAE;UAAG,CAAE;UAC/BjB,OAAO,EAAE;YAAEgB,OAAO,EAAE,CAAC;YAAEC,CAAC,EAAE;UAAE,CAAE;UAC9BC,IAAI,EAAE;YAAEF,OAAO,EAAE,CAAC;YAAEC,CAAC,EAAE,CAAC;UAAG,CAAE;UAC7Bf,UAAU,EAAE;YAAEC,QAAQ,EAAE;UAAI,CAAE;UAC9BN,SAAS,EAAE,QAAQiB,OAAO,CAACvB,IAAI,KAAK,MAAM,GAAG,aAAa,GAAG,eAAe,EAAG;UAAAO,QAAA,eAE/EhG,OAAA;YAAK+F,SAAS,EAAE,eAAeiB,OAAO,CAACvB,IAAI,KAAK,MAAM,GAAG,SAAS,GAAG,SAAS,EAAG;YAAAO,QAAA,gBAC/EhG,OAAA;cAAK+F,SAAS,EAAE,mBACdiB,OAAO,CAACvB,IAAI,KAAK,MAAM,GACnB,YAAY,GACZ,YAAY,EACf;cAAAO,QAAA,GACAgB,OAAO,CAACpG,WAAW,IAAIoG,OAAO,CAACpG,WAAW,CAACuE,MAAM,GAAG,CAAC,iBACpDnF,OAAA;gBAAK+F,SAAS,EAAC,gBAAgB;gBAAAC,QAAA,EAC5BgB,OAAO,CAACpG,WAAW,CAACmG,GAAG,CAAC,CAACM,IAAI,EAAExD,KAAK,kBACnC7D,OAAA;kBAAiB+F,SAAS,EAAC,wDAAwD;kBAAAC,QAAA,eACjFhG,OAAA;oBAAM+F,SAAS,EAAC,SAAS;oBAAAC,QAAA,GAAC,eAAG,EAACqB,IAAI,CAACC,IAAI;kBAAA;oBAAAX,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAO;gBAAC,GADvCjD,KAAK;kBAAA8C,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAEV,CACN;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACC,CACN,eACD9G,OAAA;gBAAK+F,SAAS,EAAC,+BAA+B;gBAAAC,QAAA,EAC3CgB,OAAO,CAACvB,IAAI,KAAK,WAAW,gBAC3BzF,OAAA,CAACF,aAAa;kBAACyH,IAAI,EAAEP,OAAO,CAACtB,OAAQ;kBAACxF,aAAa,EAAEA;gBAAc;kBAAAyG,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CAAC,gBAEtE9G,OAAA;kBAAG+F,SAAS,EAAC,qBAAqB;kBAAAC,QAAA,EAAEgB,OAAO,CAACtB;gBAAO;kBAAAiB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI;cACxD;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACE,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC,eACN9G,OAAA;cAAK+F,SAAS,EAAE,8BAA8BiB,OAAO,CAACvB,IAAI,KAAK,MAAM,GAAG,YAAY,GAAG,WAAW,EAAG;cAAAO,QAAA,EAClGgB,OAAO,CAACrB,SAAS,CAAC6B,kBAAkB,CAAC;YAAC;cAAAb,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACpC,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH;QAAC,GAjCDE,OAAO,CAAC3B,EAAE;UAAAsB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAkCL,CACb;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACa,CAAC,eAElB9G,OAAA;QAAKyH,GAAG,EAAEvG;MAAe;QAAAyF,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACzB,CAAC,eAGN9G,OAAA;MAAK+F,SAAS,EAAC,qDAAqD;MAAAC,QAAA,GAEjEpF,WAAW,CAACuE,MAAM,GAAG,CAAC,iBACrBnF,OAAA,CAACL,MAAM,CAACsG,GAAG;QACTgB,OAAO,EAAE;UAAEC,OAAO,EAAE,CAAC;UAAEzF,MAAM,EAAE;QAAE,CAAE;QACnCyE,OAAO,EAAE;UAAEgB,OAAO,EAAE,CAAC;UAAEzF,MAAM,EAAE;QAAO,CAAE;QACxCsE,SAAS,EAAC,gCAAgC;QAAAC,QAAA,eAE1ChG,OAAA;UAAK+F,SAAS,EAAC,sBAAsB;UAAAC,QAAA,EAClCpF,WAAW,CAACmG,GAAG,CAAC,CAACM,IAAI,EAAExD,KAAK,kBAC3B7D,OAAA,CAACL,MAAM,CAACsG,GAAG;YAETgB,OAAO,EAAE;cAAER,KAAK,EAAE;YAAE,CAAE;YACtBP,OAAO,EAAE;cAAEO,KAAK,EAAE;YAAE,CAAE;YACtBV,SAAS,EAAC,wDAAwD;YAAAC,QAAA,gBAElEhG,OAAA;cAAM+F,SAAS,EAAC,SAAS;cAAAC,QAAA,GAAC,eAAG,EAACqB,IAAI,CAACC,IAAI;YAAA;cAAAX,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eAC/C9G,OAAA;cACE0H,OAAO,EAAEA,CAAA,KAAM9D,gBAAgB,CAACC,KAAK,CAAE;cACvCkC,SAAS,EAAC,yCAAyC;cAAAC,QAAA,EACpD;YAED;cAAAW,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA,GAXJjD,KAAK;YAAA8C,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAYA,CACb;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACI,CACb,eAGD9G,OAAA,CAACJ,eAAe;QAAAoG,QAAA,EACblF,YAAY,iBACXd,OAAA,CAACL,MAAM,CAACsG,GAAG;UACTgB,OAAO,EAAE;YAAEC,OAAO,EAAE,CAAC;YAAEC,CAAC,EAAE;UAAG,CAAE;UAC/BjB,OAAO,EAAE;YAAEgB,OAAO,EAAE,CAAC;YAAEC,CAAC,EAAE;UAAE,CAAE;UAC9BC,IAAI,EAAE;YAAEF,OAAO,EAAE,CAAC;YAAEC,CAAC,EAAE;UAAG,CAAE;UAC5BpB,SAAS,EAAC,gCAAgC;UAAAC,QAAA,eAE1ChG,OAAA;YAAK+F,SAAS,EAAC,WAAW;YAAAC,QAAA,EACvB7D,gBAAgB,CAAC4E,GAAG,CAAE1E,GAAG,iBACxBrC,OAAA;cAEE0H,OAAO,EAAEA,CAAA,KAAMlF,mBAAmB,CAACH,GAAG,CAACJ,OAAO,CAAE;cAChD8D,SAAS,EAAC,wDAAwD;cAAAC,QAAA,gBAElEhG,OAAA;gBAAM+F,SAAS,EAAC,2BAA2B;gBAAAC,QAAA,EAAE3D,GAAG,CAACJ;cAAO;gBAAA0E,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,eAChE9G,OAAA;gBAAM+F,SAAS,EAAC,oBAAoB;gBAAAC,QAAA,EAAE3D,GAAG,CAACH;cAAW;gBAAAyE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC;YAAA,GALxDzE,GAAG,CAACJ,OAAO;cAAA0E,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAMV,CACT;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACI;MACb;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACc,CAAC,eAGlB9G,OAAA;QACE+F,SAAS,EAAE,mEACT1E,WAAW,CAACE,OAAO,GAAG,CAAC,GAAG,wBAAwB,GAAG,EAAE,EACtD;QACHoG,UAAU,EAAE3D,cAAe;QAC3B4D,WAAW,EAAE3D,eAAgB;QAC7B4D,MAAM,EAAE3D,UAAW;QAAA8B,QAAA,gBAGnBhG,OAAA;UACEyH,GAAG,EAAEtG,WAAY;UACjB0B,KAAK,EAAEvC,UAAW;UAClBwH,QAAQ,EAAEnF,iBAAkB;UAC5BoF,UAAU,EAAE9E,cAAe;UAC3B+E,WAAW,EAAC,4DAA4D;UACxEjC,SAAS,EAAC,uHAAuH;UACjIkC,IAAI,EAAE;QAAE;UAAAtB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACT,CAAC,eAGF9G,OAAA;UAAK+F,SAAS,EAAC,wCAAwC;UAAAC,QAAA,gBACrDhG,OAAA;YAAK+F,SAAS,EAAC,6BAA6B;YAAAC,QAAA,gBAE1ChG,OAAA,CAACL,MAAM,CAACuI,MAAM;cACZC,UAAU,EAAE;gBAAE1B,KAAK,EAAE;cAAK,CAAE;cAC5B2B,QAAQ,EAAE;gBAAE3B,KAAK,EAAE;cAAK,CAAE;cAC1BiB,OAAO,EAAEA,CAAA;gBAAA,IAAAW,qBAAA;gBAAA,QAAAA,qBAAA,GAAMjH,YAAY,CAACG,OAAO,cAAA8G,qBAAA,uBAApBA,qBAAA,CAAsBC,KAAK,CAAC,CAAC;cAAA,CAAC;cAC7CvC,SAAS,EAAC,sDAAsD;cAChEwC,KAAK,EAAC,aAAa;cAAAvC,QAAA,EACpB;YAED;cAAAW,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAe,CAAC,eAGhB9G,OAAA,CAACL,MAAM,CAACuI,MAAM;cACZC,UAAU,EAAE;gBAAE1B,KAAK,EAAE;cAAK,CAAE;cAC5B2B,QAAQ,EAAE;gBAAE3B,KAAK,EAAE;cAAK,CAAE;cAC1BiB,OAAO,EAAEtD,mBAAoB;cAC7B2B,SAAS,EAAE,yBACTrF,WAAW,GAAG,4BAA4B,GAAG,gCAAgC,EAC5E;cACH6H,KAAK,EAAC,aAAa;cAAAvC,QAAA,EAElBtF,WAAW,GAAG,IAAI,GAAG;YAAK;cAAAiG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACd,CAAC,eAEhB9G,OAAA;cACEyH,GAAG,EAAErG,YAAa;cAClBoH,IAAI,EAAC,MAAM;cACXC,QAAQ;cACRX,QAAQ,EAAGlF,CAAC,IAAKU,gBAAgB,CAACV,CAAC,CAACE,MAAM,CAACS,KAAK,CAAE;cAClDwC,SAAS,EAAC;YAAQ;cAAAY,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACnB,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC,eAGN9G,OAAA,CAACL,MAAM,CAACuI,MAAM;YACZC,UAAU,EAAE;cAAE1B,KAAK,EAAE;YAAK,CAAE;YAC5B2B,QAAQ,EAAE;cAAE3B,KAAK,EAAE;YAAK,CAAE;YAC1BiB,OAAO,EAAErE,iBAAkB;YAC3BqF,QAAQ,EAAE,CAACpI,UAAU,CAAC4E,IAAI,CAAC,CAAC,IAAItE,WAAW,CAACuE,MAAM,KAAK,CAAE;YACzDY,SAAS,EAAE,gEACTzF,UAAU,CAAC4E,IAAI,CAAC,CAAC,IAAItE,WAAW,CAACuE,MAAM,GAAG,CAAC,GACvC,iGAAiG,GACjG,8CAA8C,EACjD;YAAAa,QAAA,EACJ;UAED;YAAAW,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAe,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACb,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAAC3G,EAAA,CA/YIF,UAAqC;AAAA0I,EAAA,GAArC1I,UAAqC;AAiZ3C,eAAeA,UAAU;AAAC,IAAA0I,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}